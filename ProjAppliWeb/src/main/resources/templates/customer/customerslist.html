<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">

<head th:include="fragments/common :: [//head]">
</head>

<body>
	<div role="navigation" th:substituteby="fragments/menu :: [//div[@class='navbar']]"></div>

	<!-- Begin page content -->
	<div class="container">
		<div class="page-header">
			<h1>
				Client <small>Gestion des clients</small>
			</h1>
		</div>
		
		<button id="buttoncreatecustomer" class="btn btn-primary btn-lg" data-toggle="modal">
		  Créer un client
		</button>
		
		<br />
		<br />
				
		<table class="tablesorter">
			<thead>
        		<tr>
					<th>Nom</th>
					<th>Prénom</th>
					<th class="filter-false sorter-false">Groupe</th>
					<th class="filter-false sorter-false">Editer</th>
					<th class="filter-false sorter-false">Supprimer</th>
				</tr>
			</thead>
		    <tfoot>
		        <tr>
		            <th colspan="7" class="ts-pager form-horizontal">
		                <button type="button" class="btn first"><i class="icon-step-backward glyphicon glyphicon-step-backward"></i></button>
		                <button type="button" class="btn prev"><i class="icon-arrow-left glyphicon glyphicon-backward"></i></button>
		                <span class="pagedisplay"></span> 
		                <!-- this can be any element, including an input -->
		                <button type="button" class="btn next"><i class="icon-arrow-right glyphicon glyphicon-forward"></i></button>
		                <button type="button" class="btn last"><i class="icon-step-forward glyphicon glyphicon-step-forward"></i></button>
		                <select class="pagesize input-mini" title="Taille de la page">
		                    <option value="5">5</option>
		                    <option selected="selected" value="10">10</option>
		                    <option value="20">20</option>
		                    <option value="30">30</option>
		                    <option value="40">40</option>
		                </select>
		                <select class="pagenum input-mini" title="Numéro de page"></select>
		            </th>
		        </tr>
		    </tfoot>
			<tbody>
				<!--<tr th:each="customer : ${page.content}">-->
				<tr th:each="customer : ${customers}">
					<td class="table-cell" th:text="${customer.lastName}"></td>
					<td class="table-cell" th:text="${customer.firstName}"></td>
					<td class="table-cell">
						<div th:each="customerGroup : ${customer.customerGroups}">
							<a class="customerGroup" th:id="${customerGroup.id}" th:action="@{/customer/grouppopover}">
								<span th:text="${customerGroup.name}"></span>
							</a>
						</div>
					</td>
					<td class="table-cell">
						<button th:onclick="@{'javascript:editCustomer(\'' + @{/customer/edit} + '\', ' + ${customer.id} + '); return false;'}" class="btn btn-default btn-xs">
							<i class="glyphicon glyphicon-pencil"></i>
						</button>
					</td>
					<td class="table-cell">
						<a th:href="@{'/customer/delete/' + ${customer.id}}" class="btn btn-default btn-xs">
							<i class="glyphicon glyphicon-trash"></i>
						</a>
					</td>
				</tr>
			</tbody>
		</table>
		<!--
		<div th:include="fragments/paginationbar :: paginationbar"></div>
		-->
	</div>
	
	<div th:substituteby="customer/customerform :: [//div]"></div>
	
	<!-- End page content -->

	<script th:replace="fragments/common :: [//script]"></script>
	<script type="text/javascript" th:src="@{/js/common.js}"></script>
	<script type="text/javascript" th:src="@{/js/customerslist.js}"></script>	
	<div th:substituteby="fragments/common :: [//div[@class='footer']]"></div>
	
</body>
</html>